<div class="">
  <div class="row">
    <div class="col-md-3 animated fadeInLeft slow">
      <ngx-players-box-team [teamName]="this.matchService.match.teamA?.nameAr"
                            [teamData]="playersTeamA"></ngx-players-box-team>
    </div>
    <div class="col-md-6 animated fadeInDown slow">
      <ngx-youtube-player [allVideoURL]="allVideos" (videoMatchId)="getVideoMatchId($event)"></ngx-youtube-player>
    </div>
    <div class="col-md-3 animated fadeInRight slow">
      <ngx-players-box-team [teamName]="this.matchService.match.teamB?.nameAr"
                            [teamData]="playersTeamB"></ngx-players-box-team>
    </div>
  </div>
</div>

<br>
<div class="animated fadeInUpBig slow">
  <ngx-action [groupId]="this.matchService.match.groupId" [categories]="categories"></ngx-action>
</div>
<br>
<div class="row">
  <div class="col-md-12 animated fadeInUp slower">
    <p-panel header="Events" [toggleable]="true" [style]="{'margin-bottom':'20px'}">
      <p-table #dt [value]="attacks" sortField="ai" sortMode="single" (onSort)="onSort()" (onFilter)="onFilter($event)">
        <ng-template pTemplate="header" let-rowData>
          <tr>
            <th [pSortableColumn]="'fd'">
              Duration
              <p-sortIcon [field]="'fd'" ariaLabel="Activate to sort"
                          ariaLabelDesc="Activate to sort in descending order"
                          ariaLabelAsc="Activate to sort in ascending order"></p-sortIcon>
            </th>
            <th>
              Team A
            </th>
            <th [pSortableColumn]="'aa'">
              Action
              <p-sortIcon [field]="'aa'" ariaLabel="Activate to sort"
                          ariaLabelDesc="Activate to sort in descending order"
                          ariaLabelAsc="Activate to sort in ascending order"></p-sortIcon>

            </th>
            <th [pSortableColumn]="'pa'">
              Player Name
              <p-sortIcon [field]="'pa'" ariaLabel="Activate to sort"
                          ariaLabelDesc="Activate to sort in descending order"
                          ariaLabelAsc="Activate to sort in ascending order"></p-sortIcon>
            </th>
            <th [pSortableColumn]="'ti'">
              Minute
              <p-sortIcon [field]="'ti'" ariaLabel="Activate to sort"
                          ariaLabelDesc="Activate to sort in descending order"
                          ariaLabelAsc="Activate to sort in ascending order"></p-sortIcon>
            </th>
            <th [pSortableColumn]="'ca'">
              Taktik
              <p-sortIcon [field]="'ca'" ariaLabel="Activate to sort"
                          ariaLabelDesc="Activate to sort in descending order"
                          ariaLabelAsc="Activate to sort in ascending order"></p-sortIcon>
            </th>
            <th>Team B</th>
            <th [pSortableColumn]="'ab'">
              Action
              <p-sortIcon [field]="'ab'" ariaLabel="Activate to sort"
                          ariaLabelDesc="Activate to sort in descending order"
                          ariaLabelAsc="Activate to sort in ascending order"></p-sortIcon>
            </th>
            <th [pSortableColumn]="'pb'">
              Player Name
              <p-sortIcon [field]="'pb'" ariaLabel="Activate to sort"
                          ariaLabelDesc="Activate to sort in descending order"
                          ariaLabelAsc="Activate to sort in ascending order"></p-sortIcon>
            </th>
            <th [pSortableColumn]="'cb'">
              Taktik
              <p-sortIcon [field]="'cb'" ariaLabel="Activate to sort"
                          ariaLabelDesc="Activate to sort in descending order"
                          ariaLabelAsc="Activate to sort in ascending order"></p-sortIcon>
            </th>
            <th>
              <i class="fas fa-toolbox fa-2x text-warning"></i>
            </th>
          </tr>
          <tr>
            <th>
              <input class="form-control" type="text"
                     (input)="dt.filter($event.target.value, 'fd', 'contains')"
                     [value]="dt.filters['fd'] ? dt.filters['fd'].value : ''">
            </th>
            <th></th>
            <th>
              <input class="form-control" type="text"
                     (input)="dt.filter($event.target.value, 'aa', 'contains')">
            </th>
            <th>
              <input class="form-control" type="text"
                     (input)="dt.filter($event.target.value, 'pa', 'contains')">
            </th>
            <th>
              <input class="form-control" type="text"
                     (input)="dt.filter($event.target.value, 'ti', 'contains')">
            </th>
            <th>
              <input class="form-control" type="text"
                     (input)="dt.filter($event.target.value, 'ca', 'contains')">
            </th>
            <th></th>
            <th>
              <input class="form-control" type="text"
                     (input)="dt.filter($event.target.value, 'ab', 'contains')">
            </th>
            <th>
              <input class="form-control" type="text"
                     (input)="dt.filter($event.target.value, 'pb', 'contains')">
            </th>
            <th>
              <input class="form-control" type="text"
                     (input)="dt.filter($event.target.value, 'cb', 'contains')">
            </th>
            <th></th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-rowData let-rowIndex="rowIndex">
          <tr>
            <td *ngIf="rowGroupMetadata[rowData.ai].index === rowIndex"
                [attr.rowspan]="rowGroupMetadata[rowData.ai].size">
              {{rowData.ad}}
            </td>
            <td>{{rowData.ta}}</td>
            <td>{{rowData.aa}}</td>
            <td>{{rowData.pa}}</td>
            <td>{{rowData.ti}}</td>
            <td>{{rowData.ca}}</td>
            <td>{{rowData.tb}}</td>
            <td>{{rowData.ab}}</td>
            <td>{{rowData.pb}}</td>
            <td>{{rowData.cb}}</td>
            <td *ngIf="rowGroupMetadata[rowData.ai].index === rowIndex"
                [attr.rowspan]="rowGroupMetadata[rowData.ai].size">
              <button class="btn btn-outline-primary btn-sm m-2"><i class="fas fa-play"></i></button>
              <button class="btn btn-outline-danger btn-sm m-2"><i class="fas fa-ban"></i></button>
            </td>
          </tr>
        </ng-template>
      </p-table>
    </p-panel>
  </div>
</div>
